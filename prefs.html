<!doctype html>
<html>
    <head>
		<meta name="referrer" content="no-referrer" />
		<link rel="stylesheet" type="text/css" media="screen" href="/static/common.css" />
		<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js" ></script>
		<script data-goatcounter="https://einklibgen.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
		<script type="text/javascript" src="/static/jquery.boxfit.min.js"></script>
		<script type="text/javascript" src="/static/js.cookie.min.js"></script>
		<script type="text/javascript" src="/static/common.js"></script>
        <style>
              .coverscheckbox {
                width: 80px;
                height: 80px;
              }

              .labels {
                font-size: 35px;
              }

              .inputs {
                padding: 0 40px;
              }

              select {
                height: 60px;
              }

              table {
                width:95%;
                margin: 0 auto;
              }

              .inputficsci {
                margin: 0 auto;
                width: 100%;
                padding: 1% 1%;
                text-align: center;
                font-size: 35px;
              }
              input[name='ficsci'] {
                -webkit-appearance: none;
                -moz-appearance: none;
                -o-appearance: none;
                appearance: none;
                outline: none;
              }
              input[name='ficsci']:after {
                display: inline-block;
                text-align: center;
                font-size: 35px;
                content: attr(data-icon);
                padding: 20px 20px;
                border-radius: 15px;
                color: rgba(0, 0, 0, 1);
                transition: box-shadow 0.1s, color 0.1s;
              }
              input[name='ficsci']:checked:after {
                box-shadow: 2px 2px 14px rgba(0, 0, 0, 0.6);
                color: rgba(0, 0, 0, 1);
                font-weight: bold;
              }
        </style>
        <title>E-Ink LG</title>
    </head>
    <body>
		<div class="header clearfix">
			<div class="hdiv homebtn">
				<a href="/index.html"><img src="/static/img/search.png" alt="Home" title="New Search" class="hsearch" height="150px" width="150px"/></a>
			</div>
			<div class="hdiv heading">
				<div class="fitbox headtext">
					<h1>E-Ink LibGen</h1>
				</div>
			</div>
			<div class="hdiv aboutbtn">
				<a href=/about.html><img src="/static/img/about.png" alt="About" title="About" class="habout" height="150px" width="150px"/></a>
			</div>
		</div>
		<div class="content clearfix">
			<noscript>
				<center><h2>You need to enable javascript and cookies to use this site. Please enable in browser settings and refresh the page.</h2></center>
				<br><br>
			</noscript>
			<div class="prefspage">
				<form action="" novalidate onsubmit="return false;" name="searchform">

                    <table border=1 rules=all>
                        <tr>
                            <td class="labels">
                                <label for="covers"><b>Display covers</b></label>
                                <br>Disabling improves page load speed.
                            </td>
                            <td class="inputs">
                                <input type="checkbox" id="covers" name="covers" class="coverscheckbox" checked>
                            </td>
                        </tr>
                        <tr>
                            <td class="inputficsci" colspan="2">
                                
                                <input type="radio" name="ficsci" id="fic" value="fic" onclick="handleFicSci(this);" data-icon='Fiction' checked>
                                <input type="radio" name="ficsci" id="sci" value="sci" onclick="handleFicSci(this);" data-icon='Sci-Tech & Non-Fiction'>
                                <br>
                                Below options are available only for Fiction
                            </td>
                        </tr>
                        <tr>
                            <td class="labels">
                                <label for="format"><b>Format</b></label>
                                <br>Choose 'Kindle' or 'Other', unless you know what you're doing.
                            </td>
                            <td class="inputs">
                                <select name="format" id="format">
                                    <option value="mobi" selected>Kindle (MOBI)</option>
                                    <option value="epub">Other (EPUB)</option>
                                    <option value="azw">AZW</option>
                                    <option value="azw3">AZW3</option>
                                    <option value="fb2">FB2</option>
                                    <option value="pdf">PDF</option>
                                    <option value="rtf">RTF</option>
                                    <option value="txt">TXT</option>
                                    <option value="">- any -</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td class="labels">
                                <label for="language"><b>Language</b></label>
                                <br>Only the top languages are shown
                            </td>
                            <td class="inputs">
                                <select name="language" id="language">
                                    <option value="English" selected>English</option>
                                    <option value="French">French</option>
                                    <option value="German">German</option>
                                    <option value="Spanish">Spanish</option>
                                    <option value="Dutch">Dutch</option>
                                    <option value="Italian">Italian</option>
                                    <option value="Hungarian">Hungarian</option>
                                    <option value="Portuguese">Portuguese</option>
                                    <option value="Chinese">Chinese</option>
                                    <option value="Czech">Czech</option>
                                    <option value="Turkish">Turkish</option>
                                    <option value="Catalan">Catalan</option>
                                    <option value="Swedish">Swedish</option>
                                    <option value="Spanish; Castilian">Spanish; Castilian</option>
                                    <option value="Dutch; Flemish">Dutch; Flemish</option>
                                    <option value="Romanian">Romanian</option>
                                    <option value="Polish">Polish</option>
                                    <option value="Russian">Russian</option>
                                    <option value="">- any -</option>
                                </select>
                            </td>
                        </tr>
                    </table>
                    
						<p style="text-align: center;">
							<br><br>
							<input class="form-ui" id="submit" name="submit" type="submit" value="Save and Return">
						</p>
				</form>
			</div>
		</div>
		<div class="footer">
			<span class="fitbox"><p>'Give a man a fire and he's warm for a day, but set fire to him and he's warm for the rest of his life.' - Terry Pratchett</p></span>
		</div>
		<script>
			$(document).ready(function(){
                
                // Half-assed responsiveness
                if($("html").width()<=600){
                    $(".coverscheckbox").css("width", "40px");
                    $(".coverscheckbox").css("height", "40px");
                    $(".labels").css("font-size", "20px");
                    $(".inputs").css("padding", "0 20px");
                    $("select").css("height", "30px");
                }

                if(Cookies.get('version')!=undefined){
                    if(Cookies.get('covers')=='false') $('#covers').attr('checked', false);
                    $("#ficsci").val(Cookies.get('ficsci'));
                    $("#format").val(Cookies.get('format'));
                    $("#language").val(Cookies.get('language'));
                    if(Cookies.get('ficsci')=='sci'){
                        $('#sci').attr('checked', true);
                        document.getElementById("format").disabled = true;
                        document.getElementById("language").disabled = true;
                    }else{
                        $('#fic').attr('checked', true);
                        document.getElementById("format").disabled = false;
                        document.getElementById("language").disabled = false;
                    }
                }

                $("#submit").click(function(){
                    Cookies.set('covers', document.querySelector('#covers').checked, { expires: 3650 });
                    Cookies.set('format', document.getElementById("format").value, { expires: 3650 });
                    Cookies.set('language', document.getElementById("language").value, { expires: 3650 });
                    Cookies.set('ficsci', $('input[name="ficsci"]:checked').val(), { expires: 3650 });
                    Cookies.set('version',"20220929", { expires: 3650 });

                    window.history.go(-1)
                    /*if (document.referrer.indexOf("search.html")!=-1){
                        window.location.href = document.referrer;
                    }else{
                        window.location.href = "/";
                    }*/
                });
			});
            
            function handleFicSci(ficsci) {
                if(ficsci.value=="fic"){
                    document.getElementById("format").value="mobi";
                    document.getElementById("language").value="English";
                    document.getElementById("format").disabled = false;
                    document.getElementById("language").disabled = false;
                }else{
                    document.getElementById("format").value="";
                    document.getElementById("language").value="";
                    document.getElementById("format").disabled = true;
                    document.getElementById("language").disabled = true;
                }
            }
		</script>
    </body>
</html>